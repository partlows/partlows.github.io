import { cache } from 'react';

// src/lib/prefetch-session-server.ts
var getSession = cache(
  async (auth, params) => {
    return await auth.api.getSession(params);
  }
);
async function prefetchSession(auth, queryClient, params, queryKey = ["session"]) {
  const queryFn = async () => await getSession(auth, params);
  await queryClient.prefetchQuery({ queryKey, queryFn });
  const data = await queryFn();
  return {
    data,
    session: data == null ? void 0 : data.session,
    user: data == null ? void 0 : data.user
  };
}

export { prefetchSession };
