import { r as SupportedBetterAuthClientPlugins } from "./adapter-core-y53SWo8w.mjs";
import { n as BetterAuthReactAdapterInstance } from "./better-auth-react-adapter-B7zoQmoL.mjs";
import { r as SupabaseAuthAdapterInstance, s as BetterAuthVanillaAdapterInstance } from "./supabase-adapter-Dm56RKRF.mjs";
import { createAuthClient } from "better-auth/react";
import { createAuthClient as createAuthClient$1 } from "better-auth/client";

//#region src/neon-auth.d.ts

/**
 * Type representing the Better Auth React client
 */
type ReactBetterAuthClient = ReturnType<typeof createAuthClient<{
  plugins: SupportedBetterAuthClientPlugins;
}>>;
/**
 * Type representing the Better Auth Vanilla client
 */
type VanillaBetterAuthClient = ReturnType<typeof createAuthClient$1<{
  plugins: SupportedBetterAuthClientPlugins;
}>>;
/**
 * Union type of all supported auth adapter instances
 */
type NeonAuthAdapter = BetterAuthVanillaAdapterInstance | BetterAuthReactAdapterInstance | SupabaseAuthAdapterInstance;
/**
 * Configuration for createAuthClient
 */
interface NeonAuthConfig<T extends NeonAuthAdapter> {
  /** The adapter builder to use. Defaults to BetterAuthVanillaAdapter() if not specified. */
  adapter?: (url: string, fetchOptions?: {
    headers?: Record<string, string>;
  }) => T;
  /**
   * When true, automatically uses an anonymous token when no user session exists.
   * This enables RLS-based data access for users with the anonymous role.
   * @default false
   */
  allowAnonymous?: boolean;
}
/**
 * Resolves the public API type for an adapter.
 * - SupabaseAuthAdapter: exposes its own methods directly (Supabase-compatible API)
 * - BetterAuth adapters: expose the Better Auth client directly
 */
type NeonAuthPublicApi<T extends NeonAuthAdapter> = T extends BetterAuthVanillaAdapterInstance ? VanillaBetterAuthClient : T extends BetterAuthReactAdapterInstance ? ReactBetterAuthClient : T;
/**
 * NeonAuth type - combines base functionality with the appropriate public API
 * This is the return type of createAuthClient()
 *
 * For SupabaseAuthAdapter: exposes Supabase-compatible methods (signInWithPassword, getSession, etc.)
 * For BetterAuth adapters: exposes the Better Auth client directly (signIn.email, signUp.email, etc.)
 */
type NeonAuth<T extends NeonAuthAdapter> = {
  adapter: NeonAuthPublicApi<T>;
  getJWTToken: () => Promise<string | null>;
};
/**
 * Create a NeonAuth instance that exposes the appropriate API based on the adapter.
 *
 * @param url - The auth service URL (e.g., 'https://auth.example.com')
 * @param config - Configuration with adapter builder
 * @returns NeonAuth instance with the adapter's API exposed directly
 *
 * @example SupabaseAuthAdapter - Supabase-compatible API
 * ```typescript
 * import { createAuthClient, SupabaseAuthAdapter } from '@neondatabase/auth';
 *
 * const auth = createAuthClient('https://auth.example.com', {
 *   adapter: SupabaseAuthAdapter(),
 * });
 *
 * // Supabase-compatible methods
 * await auth.signInWithPassword({ email, password });
 * await auth.getSession();
 * ```
 *
 * @example BetterAuthVanillaAdapter - Direct Better Auth API
 * ```typescript
 * import { createAuthClient, BetterAuthVanillaAdapter } from '@neondatabase/auth';
 *
 * const auth = createAuthClient('https://auth.example.com', {
 *   adapter: BetterAuthVanillaAdapter(),
 * });
 *
 * // Direct Better Auth API access
 * await auth.signIn.email({ email, password });
 * await auth.signUp.email({ email, password, name: 'John' });
 * await auth.getSession();
 * ```
 *
 * @example BetterAuthReactAdapter - Better Auth with React hooks
 * ```typescript
 * import { createAuthClient, BetterAuthReactAdapter } from '@neondatabase/auth';
 *
 * const auth = createAuthClient('https://auth.example.com', {
 *   adapter: BetterAuthReactAdapter(),
 * });
 *
 * // Direct Better Auth API with React hooks
 * await auth.signIn.email({ email, password });
 * const session = auth.useSession(); // React hook
 * ```
 */
declare function createInternalNeonAuth<T extends NeonAuthAdapter = BetterAuthVanillaAdapterInstance>(url: string, config?: NeonAuthConfigInternal<T>): NeonAuth<T>;
declare function createAuthClient$2<T extends NeonAuthAdapter = BetterAuthVanillaAdapterInstance>(url: string, config?: NeonAuthConfig<T>): NeonAuthPublicApi<T>;
//#endregion
export { ReactBetterAuthClient as a, createInternalNeonAuth as c, NeonAuthPublicApi as i, NeonAuthAdapter as n, VanillaBetterAuthClient as o, NeonAuthConfig as r, createAuthClient$2 as s, NeonAuth as t };