import { ViewEntity } from '../index.js';
import { HashedViewMap } from '../query-planner/query-compiler.js';
import { PreparedQuery } from '../types.js';
export interface ViewNode {
    id: number;
    usedBy: Set<ViewNode>;
    dependsOn: Map<string, ViewNode>;
    cachedBoundQuery: PreparedQuery | undefined;
    results?: ViewEntity[];
    query: PreparedQuery;
    shouldRefetch: boolean;
    hasChanged: boolean;
    collectionsReferencedInSubqueries: Map<number, Set<string>>;
    referencedRelationalVariables: Map<number, Set<string>>;
}
type ViewGraph = Map<number, ViewNode>;
export declare function resetViewGraph(viewGraph: ViewGraph): void;
export declare function potentiallyRemoveNodeSubtreeFromViewGraph(node: ViewNode, viewGraph: ViewGraph): Set<number>;
export declare function addQueryToViewGraph(query: PreparedQuery, viewGraph: ViewGraph): ViewNode;
export declare function addViewsToViewGraph(views: HashedViewMap, viewGraph: ViewGraph): ViewGraph;
export declare function prettyPrintViewGraph(viewGraph: ViewGraph): string;
export {};
