import type { KVStore, KVStoreTransaction, ScanOptions, CountOptions } from '../../../types.js';
import type { Tuple } from '../../../codec.js';
export declare class SqliteWorkerKvStore implements KVStore {
    private worker;
    private nextRequestId;
    private pendingRequests;
    private activeScans;
    private isInitialized;
    private initPromise;
    private closed;
    constructor(databasePath: string);
    private handleWorkerMessage;
    private handleScanMessage;
    private sendRequest;
    get(key: Tuple, scope?: Tuple): Promise<any>;
    set(key: Tuple, value: any, scope?: Tuple): Promise<void>;
    delete(key: Tuple, scope?: Tuple): Promise<void>;
    scan(options: ScanOptions, scope?: Tuple): AsyncIterable<[Tuple, any]>;
    scanValues(options: ScanOptions, scope?: Tuple): AsyncIterable<any>;
    count(options: CountOptions, scope?: Tuple): Promise<number>;
    clear(scope?: Tuple): Promise<void>;
    scope(scopeTuple: Tuple): KVStore;
    transact(): KVStoreTransaction;
    applyEdits(sets: AsyncIterable<[Tuple, any]> | Iterable<[Tuple, any]>, deletes: AsyncIterable<Tuple> | Iterable<Tuple>, scope?: Tuple): Promise<void>;
    close(): Promise<void>;
    private cleanup;
}
