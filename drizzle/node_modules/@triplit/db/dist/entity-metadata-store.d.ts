import { DBChanges, Timestamp, KVStoreOrTransaction, KVStoreTransaction } from './types.js';
export declare class EntityMetadataStore {
    storagePrefix: string[];
    constructor(storagePrefix?: string[]);
    getHighestTimestamp(storage: KVStoreOrTransaction): Promise<Timestamp>;
    /**
     * Applies a set of changes to the metadata store and returns a filtered diff of the changes that were actually applied.
     * Only changes with a timestamp higher than the current highest timestamp in the store will be applied.
     * Additionally, this will update the metadata in the store.
     * @param changes - The changes to be applied.
     * @param timestamp - The timestamp of the changes.
     * @returns The filtered changes that were actually applied.
     */
    applyChanges(tx: KVStoreTransaction, changes: DBChanges, timestamp: Timestamp): Promise<DBChanges>;
    getTimestampForEntity(tx: KVStoreOrTransaction, collectionName: string, entityId: string): Promise<Timestamp | null>;
}
