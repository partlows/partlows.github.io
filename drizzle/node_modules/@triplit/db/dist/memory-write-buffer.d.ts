import { type WriteBuffer, type DBChanges, CollectionChanges, CollectionName, EntityId, Change, KVStoreOrTransaction } from './types.js';
export declare class SimpleMemoryWriteBuffer implements WriteBuffer {
    private _changes;
    constructor();
    clear(tx: KVStoreOrTransaction): Promise<void>;
    write(tx: KVStoreOrTransaction, changes: DBChanges): Promise<void>;
    getChanges(storage: KVStoreOrTransaction): Promise<DBChanges>;
    getChangesForCollection(storage: KVStoreOrTransaction, collectionName: CollectionName): Promise<CollectionChanges | undefined>;
    getChangesForEntity(storage: KVStoreOrTransaction, collectionName: CollectionName, id: EntityId): Promise<{
        update: Change;
        delete: boolean;
    } | undefined>;
    isEmpty(storage: KVStoreOrTransaction): Promise<boolean>;
}
export declare function mergeDBChanges(target: DBChanges, ...sources: DBChanges[]): DBChanges;
export declare function isEmpty(obj: any): boolean;
export declare function deepIsEmpty(obj: any): boolean;
export declare function areChangesEmpty(changes: DBChanges | undefined | null): boolean;
