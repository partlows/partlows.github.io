import { DBChanges, DBEntity, CollectionName, KVStoreOrTransaction, KVStoreTransaction, EntitySyncStore, ApplyChangesOptions } from './types.js';
import { Timestamp } from './types.js';
import { EntityMetadataStore } from './entity-metadata-store.js';
import { EntityDataStore } from './entity-data-store.js';
export declare class EntityStoreKV implements EntitySyncStore {
    storagePrefix: string[];
    readonly metadataStore: EntityMetadataStore;
    readonly dataStore: EntityDataStore;
    constructor(storagePrefix?: string[]);
    applyChanges(tx: KVStoreTransaction, buffer: DBChanges, options: ApplyChangesOptions): Promise<DBChanges>;
    applyChangesWithTimestamp(tx: KVStoreTransaction, buffer: DBChanges, timestamp: Timestamp, options: ApplyChangesOptions): Promise<DBChanges>;
    getEntity(storage: KVStoreOrTransaction, collection: string, id: string): Promise<DBEntity | undefined>;
    getEntitiesInCollection(storage: KVStoreOrTransaction, collection: CollectionName): AsyncIterable<DBEntity>;
    getCollectionStats(storage: KVStoreOrTransaction, knownCollections: CollectionName[] | undefined): Promise<Map<string, number>>;
}
