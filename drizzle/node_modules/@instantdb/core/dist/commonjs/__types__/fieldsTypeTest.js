"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const index_ts_1 = require("../index.js");
// These tests just check types. See `type _cases = ` for the test cases.
const schema = index_ts_1.i.schema({
    entities: {
        tbl: index_ts_1.i.entity({
            a: index_ts_1.i.number(),
            b: index_ts_1.i.string(),
        }),
    },
});
// Test that fields works with a schema
function _testFieldsWithSchema() {
    const schemaDb = (0, index_ts_1.init)({
        schema: schema,
        appId: '123',
    });
    schemaDb.subscribeQuery({ tbl: { $: { fields: ['a'] } } }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
    schemaDb.subscribeQuery({ tbl: { $: { fields: ['id', 'a'] } } }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
    schemaDb.subscribeQuery({ tbl: { $: { fields: undefined } } }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
    schemaDb.subscribeQuery({ tbl: {} }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
}
// Test that fields does nothing when there is no schema
function _testFieldsNoSchema() {
    const noSchemaDb = (0, index_ts_1.init)({
        appId: '123',
    });
    noSchemaDb.subscribeQuery({ tbl: { $: { fields: ['a'] } } }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
    noSchemaDb.subscribeQuery({ tbl: { $: { fields: ['id', 'a'] } } }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
    noSchemaDb.subscribeQuery({ tbl: { $: { fields: undefined } } }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
    noSchemaDb.subscribeQuery({ tbl: {} }, (resp) => {
        const item = resp.data?.tbl[0];
        if (item) {
        }
    });
}
//# sourceMappingURL=fieldsTypeTest.js.map